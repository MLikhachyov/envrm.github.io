<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Personal page">
    <meta name="author" content="Likhachev Maxim">

    <link rel="shortcut icon" href="../../../../../../ico/favicon.ico">

    <title>#!/usr/bin/env rm -- Заметки и переводы :: Основы Slackware Linux -- 8. Файлы и директории</title>

    <link rel="stylesheet" href="../../../../../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../../../../css/custom.css">
    <link rel="stylesheet" href="../../../../../../css/fontello.css">
    <link rel="stylesheet" href="../../../../../../css/animation.css">

    <link rel="stylesheet" href="../../../../../../css/shell-wrap.css">

    <script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shCore.js"></script>

		<link href="../../../../../../css/SyntaxHighlighter/shCore.css" rel="stylesheet" type="text/css" />

		<link href="../../../../../../css/SyntaxHighlighter/shThemeEclipse.css" rel="stylesheet" type="text/css" />
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeDjango.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeEmacs.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeFadeToGrey.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeMDUltra.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeMidnight.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeRDark.css" rel="stylesheet" type="text/css" /> -->

		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushScheme.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushTcl_simple.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushBash.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushErlang.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushPlain.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushBash.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushLatex.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushHaskell.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushProlog.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushDiff.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushVim.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushJScript.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushBat.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushXml.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushCss.js"></script>

<script type="text/javascript">
			SyntaxHighlighter.defaults['toolbar'] = false;
			SyntaxHighlighter.all()
		</script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
      <div class="header">
        <ul class="nav navbar-nav pull-right">
          <li class="menu-icon"><a href="../../../../../../index.html"><span class="icon-home"></span></a></li>
          <li class="menu-icon"><a href="../../../../programming.html"><span class="icon-tools"></span></a></li>
          <li class="menu-icon"><a href="../../../../poetry.html"><span class="icon-feather"></span></a></li>
          <li class="menu-icon"><a href="../../../../music.html"><span class="icon-note-beamed"></span></a></li>
          <li class="menu-icon active"><a href="../../../../articles.html"><span class="icon-book"></span></a></li>
          <li class="menu-icon"><a href="../../../../about.html"><span class="icon-user"></span></a></li>
        </ul>
        <h3 class="text-muted">#!/usr/bin/env rm</h3>
      </div>

      <ol class="plain breadcrumb">
        <li><a href="../../../../articles.html"><span class="icon-book"></span></a></li>
        <li><a href="index.html">Основы Slackware Linux</a></li>
        <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                II. Основы Slackware Linux <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><a href="00. Предисловие.html">Предисловие</a></li>
              <li><a href="01. Об этой книге.html"><span>I.</span> Начало</a>
              <li style="text-decoration: underline;"><a href="08. Файлы и директории.html"><span>II.</span> Основы Slackware Linux</a>
              <li><a href="11. LaTeX.html"><span>III.</span> Набор и редактирование текста</a>
              <li><a href="12. Чтение и отправка электронной почты с mutt.html"><span>IV.</span> Электронная почта</a>
              <li><a href="14. Управление пользователями.html"><span>V.</span> Системное администрирование</a>
              <li><a href="22. Настройка сети.html"><span>VI.</span> Сетевое администрирование</a>
            </ul>
        </li>
        <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                8. Файлы и директории <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><a href="07. Оболочка командной строки.html">7. Оболочка командной строки</a></li>
              <li style="text-decoration: underline;"><a href="08. Файлы и директории.html">8. Файлы и директории</a></li>
              <li><a href="09. Работа с текстом.html">9. Работа с текстом</a></li>
              <li><a href="10. Управление процессами.html">10. Управление процессами</a></li>
            </ul>
        </li>
      </ol>

      <div class="row columns">

        <h3 class="text-center">8. Файлы и директории</h3>

<br />

        <div class="col-lg-1">
        </div>

<div class="article col-lg-10 text-justify">

<h4 id="3">8.3. Работа с директориями</h4>

<p>Мы кратко рассмотрели вопрос функционирования системы директорий в секции 8.1.1,
сейчас же мы обратимся к некоторым командам для манипуляции с директориями.</p>

<h5>8.3.1. Просмотр директорий</h5>

<p>Команда <strong>ls</strong>, с которой мы уже знакомы по разделу 8.2.1, так
же может быть использована для просмотра директорий. Как мы знаем, по умолчанию
<strong>ls</strong> выводит файлы и директории, которые можно идетифицировать в расширенном
("long") режиме
вывода <strong>ls</strong>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ ls -l</li>
    <li>total 36</li>
    <li>-rw-rw-r--  1 daniel daniel 12235 Sep  4 15:56 dns.txt</li>
    <li>-rw-rw-r--  1 daniel daniel  7295 Sep  4 15:56 network-hosts.txt</li>
    <li>drwxrwxr-x  2 daniel daniel  4096 Sep  4 15:55 papers</li>
  </ul>
</div>
      
<p>Если указано имя директории или же шаблон подстановки, <strong>ls</strong> выведет содержимое
этой директории или всех директорий, имена которых совпадают с шаблоном.
Например, если существует директория papers, команда <strong>ls paper*</strong> выведет
содержимое этой директории. Это может обескуражить, если вам требуется всего
лишь вывести список директорий, а не их содержимое. Флаг <var>-d</var> позволит вам это
сделать:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ ls -ld paper*</li>
    <li>drwxrwxr-x  2 daniel daniel  4096 Sep  4 15:55 papers</li>
  </ul>
</div>
      
<p>Вы так же можете вывести содержимое всех директорий и поддиректорий рекурсивно,
указав параметр <var>-R</var>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ ls -R</li>
    <li>.:</li>
    <li>dns.txt  network-hosts.txt  papers</li>
    <br />
    <li>./papers:</li>
    <li>cs  phil</li>
    <br />
    <li>./papers/cs:</li>
    <li>entr.pdf</li>
    <br />
    <li>./papers/phil:</li>
    <li>logics.pdf</li>
  </ul>
</div>
      
<h5>8.3.2. Создание и удаление директорий</h5>

<p>В UNIX есть команда <strong>mkdir</strong>, используемая для создания директорий. Если указан
относительный путь, то директория будет создана в текущей директории. Базовый
синтаксис команды очень прост: <var>mkdir &lt;name&gt;</var>. Например:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
<li>$ mkdir mydir</li>
  </ul>
</div>
      
<p>По умолчанию, <strong>mkdir</strong> создаёт одну директорию. Так, если вы
решите создать директории <code>mydir/mysubdir</code>, <strong>mkdir</strong>
выдаст ошибку, если директория <code>mydir</code> ещё не существует. Но если вы
всё же хотите создать обе директории одной командой, то вам нужно указать
параметр <var>-p</var>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
<li>$ mkdir -p mydir/mysubdir</li>
  </ul>
</div>
      
<p>Команда <strong>rmdir</strong> удаляет директории. Её поведение сходно с
поведением команды <strong>mkdir</strong>. Команда <strong>rmdir
mydir/mysubdir</strong> удалит только директорию <code>mysubdir</code>, тогда
как команда <strong>rmdir -p mydir/mysubdir</strong> удалит сначала
<code>mydir/mysubdir</code>, а затем и <code>mydir</code>.</p>

<p>Если в директории, которую вы удаляете, есть записи, то выполнение
<strong>rmdir</strong> остановится. В случае, если вам нужно удалить директорию
со всем содержимым, то используйте команду <strong>rm</strong>.</p>

<h4 id="7">8.7. Архивы</h4>

<h5>8.7.1. Введение</h5>

<p>Рано или поздно пользователь GNU/Linux столкнётся с архивами tar &#8211;
стандартным форматом архивирования файлов в этих системах. <strong>Tar</strong>
обычно используется вместе с <strong>gzip</strong> или <strong>bzip2</strong>.
Обе команды могут сжимать файлы и архивы. В следующей таблице перечислены самые
распространённые расширения архивов и их значения.</p>

<p class="text-right"><strong>Таблица 8.6 Расширения архивов</strong></p>

    <table class="table table-striped">
      <thead>
        <tr>
          <th>Расширение</th>
          <th>Значение</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>.tar</th>  
          <td>Несжатый архив tar</td>
        </tr>
        <tr>
          <th>.tar.gz</th>  
          <td>Tar-архив, сжатый при помощи <strong>gzip</strong></td>
        </tr>
        <tr>
          <th>.tgz</th>  
          <td>Tar-архив, сжатый при помощи <strong>gzip</strong></td>
        </tr>
        <tr>
          <th>.tar.bz2</th>  
          <td>Tar-архив, сжатый при помощи <strong>bzip2</strong></td>
        </tr>
        <tr>
          <th>.tbz</th>  
          <td>Tar-архив, сжатый при помощи <strong>bzip2</strong></td>
        </tr>
      </tbody>
    </table>

<p>The difference between <strong>bzip2</strong> and <strong>gzip</strong> is that <strong>bzip2</strong> can find repeating information in larger blocks, resulting in better compression. But <strong>bzip2</strong> is also a lot slower, because it does more data analysis.</p>

<p>Разница между <strong>bzip2</strong> и <strong>gzip</strong> в том, что <strong>bzip2</strong> обнаруживает повторение данных в б<em>о</em>льших блоках, что даёт лучшее сжатие. Но в связи с этим <strong>bzip2</strong> работает медленнее, чем <strong>gzip</strong>.</p>

<h5>8.7.2. Распаковка архивов</h5>

<p>Так как в системах GNU/Linux данные и программы часто упакованы в архивы с
помощью <strong>tar</strong>, важно уметь распаковывать такие файлы. Первое,
что вы обычно захотите выполнить, получив tar-архив, &#8211; это
посмотреть его содержимое. Это можно сделать с помощью параметра
<var>t</var>. Однако, если вы выполните команду <strong>tar</strong> с
указанным параметром и именем файла, то программа будет ожидать
ввода:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar t test.tar</li>
  </ul>
</div>
      
<p>Это происходит потому, что <strong>tar</strong> читает данные из
стандартного потока ввода. Если вы забыли, как работает перенаправление
потоков, то перечитайте раздел <a href="07. Оболочка командной
строки.html#7">«7.7. Перенаправление ввода/вывода и конвееры»</a>. Давайте
рассмотрим, что произойдёт, если мы направим содержимое архива программе
<strong>tar</strong>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar t &lg; test.tar</li>
    <li>test/</li>
    <li>test/test2</li>
    <li>test/test1</li>
  </ul>
</div>
      
<p>Это больше похоже на то, что мы ожидаем. Этот архив содержит директорию
<code>test</code>, в которой находятся файлы <code>test2</code> и
<code>test1</code>. Это также можно увидеть, указав параметр <var>f</var> и
передав имя файла:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar tf test.tar</li>
    <li>test/</li>
    <li>test/test2</li>
    <li>test/test1</li>
  </ul>
</div>
      
<p>Это выглядит так, будто архив содержит полезные файлы ;). Теперь мы можем
извлечь содержимое архива с помощью параметра <var>x</var>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar xf test.tar</li>
  </ul>
</div>
      
<p>Мы можем проверить, извлеклись ли файлы, посмотрев содержимое директории с
помощью <strong>ls</strong>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ ls test/</li>
    <li>test1  test2</li>
  </ul>
</div>
      
<p>Распаковка или просмотр содержимого архивов, сжатых с помощью <strong>gzip</strong> или <strong>bzip2</strong>
не многим сложнее. Нужно лишь добавить параметры <var>z</var> или <var>j</var>
соответственно. Например, мы можем отобразить содержимое архива, сжатого при
помощи <strong>gzip</strong>:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar ztf archive2.tar.gz</li>
  </ul>
</div>
      
<p>И <strong>bzip2</strong>-архив:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar jxf archive3.tar.bz2</li>
  </ul>
</div>
      
<h5>8.7.3. Создание архивов</h5>

<p>Вы можете создать архив при помощи параметра <var>c</var>. Допустим, что у
нас есть директория <code>test</code> из предыдущего примера. Мы можем
упаковать её в архив так:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar cf important-files.tar test</li>
  </ul>
</div>
      
<p>Это создаст архив с именем <code>important-files.tar</code> (которое
передано параметру <var>f</var>). Мы можем проверить архив:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>$ tar tf important-files.tar</li>
    <li>test/</li>
    <li>test/test2</li>
    <li>test/test1</li>
  </ul>
</div>
      
<p>Создание сжатых архивов осуществляется обычной командой архивирования
файлов, но с добавлением ключей: <var>z</var> для использования алгоритма <strong>gzip</strong>
и <var>b</var> для <strong>bzip2</strong>. Допустим, мы хотим создать сжатый <strong>gzip</strong>-архив
директории из предыдущих примеров. Мы можем сделать это таким образом:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
    <li>tar zcf important-files.tar.gz test</li>
  </ul>
</div>

<br />
<ul class="pager">
  <li class="previous"><a href="07. Оболочка командной строки.html">&larr; 7. Оболочка командной строки</a></li>
  <li class="next"><a href="09. Работа с текстом.html">9. Работа с текстом &rarr;</a></li>
</ul>

        </div>

        <div class="col-lg-1">
        </div>

      </div>

      <div class="footer">
        <p align="center"></p>
      </div>

    </div>

    <script src="../../../../../../js/jquery-2.1.0.min.js"></script>
    <script src="../../../../../../js/bootstrap.min.js"></script>

  </body>
</html>

