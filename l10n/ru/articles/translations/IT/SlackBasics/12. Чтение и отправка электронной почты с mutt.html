<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Personal page">
    <meta name="author" content="Likhachev Maxim">

    <link rel="shortcut icon" href="../../../../ico/favicon.ico">

    <title>#!/usr/bin/env rm -- Заметки и переводы :: Основы Slackware Linux -- 12. Чтение и отправка электронной почты с mutt</title>

    <link rel="stylesheet" href="../../../../../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../../../../css/custom.css">
    <link rel="stylesheet" href="../../../../../../css/fontello.css">
    <link rel="stylesheet" href="../../../../../../css/animation.css">

    <link rel="stylesheet" href="../../../../../../css/shell-wrap.css">

    <script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shCore.js"></script>

		<link href="../../../../../../css/SyntaxHighlighter/shCore.css" rel="stylesheet" type="text/css" />

		<link href="../../../../../../css/SyntaxHighlighter/shThemeEclipse.css" rel="stylesheet" type="text/css" />
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeDjango.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeEmacs.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeFadeToGrey.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeMDUltra.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeMidnight.css" rel="stylesheet" type="text/css" /> -->
		<!-- <link href="../../../../../../css/SyntaxHighlighter/shThemeRDark.css" rel="stylesheet" type="text/css" /> -->

		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushScheme.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushTcl_simple.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushBash.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushErlang.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushPlain.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushBash.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushLatex.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushHaskell.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushProlog.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushDiff.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushVim.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushJScript.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushBat.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushXml.js"></script>
		<script type="text/javascript" src="../../../../../../js/SyntaxHighlighter/shBrushCss.js"></script>

<script type="text/javascript">
			SyntaxHighlighter.defaults['toolbar'] = false;
			SyntaxHighlighter.all()
		</script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
      <div class="header">
        <ul class="nav navbar-nav pull-right">
          <li class="menu-icon"><a href="../../../../../../index.html"><span class="icon-home"></span></a></li>
          <li class="menu-icon"><a href="../../../../programming.html"><span class="icon-tools"></span></a></li>
          <li class="menu-icon"><a href="../../../../poetry.html"><span class="icon-feather"></span></a></li>
          <li class="menu-icon"><a href="../../../../music.html"><span class="icon-note-beamed"></span></a></li>
          <li class="menu-icon active"><a href="../../../../articles.html"><span class="icon-book"></span></a></li>
          <li class="menu-icon"><a href="../../../../about.html"><span class="icon-user"></span></a></li>
        </ul>
        <h3 class="text-muted">#!/usr/bin/env rm</h3>
      </div>

      <ol class="plain breadcrumb">
        <li><a href="../../../../articles.html"><span class="icon-book"></span></a></li>
        <li><a href="index.html">Основы Slackware Linux</a></li>
        <li><a href="index.html#IV">IV. Электронная почта</a></li>
        <li class="active">12. Чтение электронной почты с mutt</li>
      </ol>

      <div class="row columns">

        <h3 class="text-center">12. Чтение и отправка электронной почты с mutt</h3>

</br>

        <div class="col-lg-1">
        </div>

<div class="article col-lg-10 text-justify">

<h4 id="1">12.1. Введение</h4>

<p><strong>Mutt</strong> &#8211; это почтовая программа (<abbr title="Mail User Agent, почтовый агент
пользователя">MUA</abbr>), которая может быть использована для чтения и
написания сообщений электронной почты.</p>

<p><strong>Mutt</strong> является программой, работающей в текстовом режиме. Это означает, что она
может быть использована в консоли, по SSH и в графическом эмуляторе терминала.
Благодаря интерфейсу, построенному на меню, в программе очень просто читать большие
объёмы почты электронной почты, причём <strong>mutt</strong> может быть
настроен на использование вашего любимого текстового редактора</p>

<p>Эта глава расскажет, как вы можете настроить mutt под свои нужды, как его
использовать и как обеспечить поддержку PGP/GnuPG.</p>

<br />

<h4 id="2">12.2. Использование</h4>

<p><strong>Mutt</strong> очень прост в использовании, хотя для привыкания к
клавишам управления, навигации, чтения и отправки сообщений может потребоваться
некоторое время. Следующие разделы покажут наиболее важные клавиши. По нажатию
<kbd>h</kbd> <strong>mutt</strong> отобразит более полную информацию по всем
доступным клавишам.</p>

<h5>12.2.1. Просмотр списка сообщений</h5>

<p>После выполнения команды <strong>mutt</strong>, будут показаны все почтовые
сообщения. Вы можете перемещаться по списку сообщений с помощью курсорных
клавиш или клавиш <kbd>k</kbd> и <kbd>j</kbd>.</p>

<h5>12.2.2. Чтение почты</h5>

<p>Для просмотра выбранного сообщения используется клавиша <kbd>Enter</kbd>. Во
время чтения сообщения вы можете использовать клавиши <kbd>Page Up</kbd> и
<kbd>Page Down</kbd> для перемещения по сообщению. Также вы можете использовать
клавиши навигации для перелистывания сообщений.</p>

<p>Если в письме есть вложения, вы можете просмотреть их с помощью клавиши
<kbd>v</kbd>. Отдельные вложения выбираются клавишей <kbd>Enter</kbd>. Сохранить
вложение в файл можно нажатием клавиши <kbd>s</kbd>.</p>

<h5>12.2.3. Отправка почты</h5>

<p>Вы можете создать новое письмо, нажав клавишу <kbd>m</kbd> или ответить на
выбранное письмо клавишей <kbd>r</kbd>. <strong>Mutt</strong> попросит вас
указать адресата (<code>To:</code>) и тему письма (<code>Subject:</code>).
После введения этой информации будет запущен редактор (по умолчанию
используется <strong>vi</strong>), в котором можно будет набрать текст письма.
После сохранения письма и выхода из редактора, <strong>mutt</strong> даст вам
возможность изменить письмо. Если вы решите изменить текст, то клавишей
<kbd>e</kbd> можно снова запустить редактор. Вы можете изменить адресата или
тему письма клавишами <kbd>t</kbd> или <kbd>s</kbd> соответственно. Наконец, вы
можете отправить письмо нажатием <kbd>y</kbd>. Если вы хотите отменить создание
письма, нажмите <kbd>q</kbd>. Mutt спросит вас, хотите ли вы отложить написание письма.
Если вы согласитесь, то позже сможете продолжить создание письма.</p>

<br />

<h4 id="3">12.3. Базовая настройка</h4>

<p>Есть несколько настроек <strong>mutt</strong>, которые вы хотели бы изменить.
Эта секция описывает такие настройки. Пользовательские предпочтения настройки
<strong>mutt</strong> хранятся в домашней директории пользователя в файле
<code>.muttrc</code>. Также вы можете изменить глобальные настройки
<strong>mutt</strong> в файле <code>/etc/mutt/Muttrc</code>.

<h5>12.3.1. Настройка заголовка</h5>

<p>Каждое сообщение имеет заголовок с различной информацией. Например, заголовок
содержит информацию о пути, который прошло сообщение после того, как было
отправлено. Адреса отправителя (<code>From:</code>) и адресата
(<code>To:</code>) письма также сохраняются в заголовках, как и тема письма
(<code>Subject:</code>).</p>

<p>На практике поле заголовка <code>To:</code> не используется для указания
адресата сообщения в ходе процесса доставки почты. MTA использует для этого
адрес-обёртку. Хотя большинство почтовых программ использует в качестве такого
адреса значение из поле <code>To:</code>.</p>
    
Вы можете добавить собственные поля в заголовок электронного сообщения с помощью
опции <var>my_hdr</var>. Эта опция имеет следующий синтаксис: <var>my_hdr
&lt;заголовок&gt;: &lt;содержимое&gt;</var>. Например, вы можете добавить
информацию о том, под какой операционной системой работаете, добавив следующую
строку в файл конфигурации <strong>mutt</strong>:

<pre class="brush: plain">
my_hdr X-Operating-System: Slackware Linux 10.2
</pre>
      
<p>Также вы можете заменить некоторые поля заголовка, такие как адрес отправителя,
который указывается в поле <code>From:</code></p>

<pre class="brush: plain">
my_hdr From: John Doe &lt;john.doe@example.org&gt;
</pre>
      
<h5>12.3.2. Исполнимый файл sendmail</h5>

<p>Для доставки почтовых сообщений <strong>mutt</strong> по умолчанию
использует MTA sendmail. Вы можете использовать другую команду для доставки
почты, изменив в настройках переменную sendmail. Программа, которой заменяется
sendmail, должна принимать некоторые параметры в синтаксисе sendmail. Например,
если у вас установлена программа отправки электронной почты MSMTP, вы можете
настроить mutt для её использования, добавив следующую строку в файл
конфигурации:</p>

<pre class="brush: plain">
set sendmail="/usr/bin/msmtp"
</pre>
      
<p>Если же вы полностью заменяете sendmail другим MTA, например, Postfix, тогда
обычно не требуется устанавливать этот параметр, т.к. большинство почтовых
серверов создают альтернативный исполнимый файл sendmail.</p>

<br />

<h4 id="4">12.4. Использование IMAP</h4>

<p>По умолчанию <strong>mutt</strong> читает электронные письма из локального
почтового ящика пользователя. Однако, <strong>mutt</strong> также поддерживает
использование почтовых ящиков <abbr title="Internet Message Access
Protocol, протокол доступа к электронной почте">IMAP</abbr>. IMAP &#8211; это
протокол, используемый для доступа к сообщениям электронной почты с удалённых
серверов, поддерживаемый многими почтовыми серверами. <strong>Mutt</strong>
использует следующий формат адреса для описания IMAP-сервера:</p>

<pre class="brush: plain">
imap://[user@]hostname[:port]/[mailbox]
</pre>

<p>Или следующий формат для доступа к IMAP через SSL/TLS:</p>

<pre class="brush: plain">
imaps://[user@]hostname[:port]/[mailbox]
</pre>

<p>Вы можете использовать этот синтаксис непосредственно в операциях с директориями
и каталогами. Например, если вы нажмёте <kbd>c</kbd> для изменения текущей папки, вы
можете ввести IMAP-адрес. Это немного утомительно, поэтому проще сохранить эту
информацию в файле <code>.muttrc</code>.</p>

<p>Если вы используете только одну учётную запись IMAP, вы можете указать папку
Входящии (<var>Inbox</var>) этого аккаунта как буфер почтового ящика по умолчанию и
основной аккаунт IMAP как папку с почтой. Например, добавление следующих строк в
файл <code>.muttrc</code> настроит подключение mutt к серверу
<var>imap.example.org</var> под пользователем <var>me</var>:</p>

<pre class="brush: plain">
set folder=imap://me@imap.example.org/
set spoolfile=imap://me@imap.example.org/INBOX
</pre>

<br />

<h4 id="5">12.5. Подпись и шифрование электронной почты</h4>

<h5>12.5.1. Введение</h5>

<p><strong>Mutt</strong> обеспечивает превосходную поддержку подписи или
шифрования сообщений электронной почты средствами GnuPG. Можно задаться
вопросом, почему кто-то использует один из этих методов. В то время как
большинство людей не чувствуют необходимости шифрования большей части их
электронной почты, подписывать свою электронную почту &#8211; хорошая идея.
Например, сейчас существует много вирусов, которые подменяют адрес отправителя
в поле <code>From</code>:. Если люди, с которыми вы общаетесь, знают, что вы
подписываете свои электронные письма, они не будут открывать поддельные
сообщения электронной почты, посланные вредоносными программами. Кроме того,
если люди могут проверить вашу личность, это выглядит гораздо более
профессионально, особенно в сфере бизнеса. Например, кому бы вы скорее
доверили, <var>vampire_boy93853@hotmail.com</var>, или кому-нибудь, использующему
профессиональный адрес электронной почты с цифровой подписью?</p>

<p>Этот раздел описывает, как вы можете использовать GnuPG с
<strong>mutt</strong>. Для получения большей информации о GnuPG прочтите раздел
<a href="8. Файлы и директории.html#9">8.9. &laquo;Шифрование и подпись файлов&raquo;</a>.</p>

<h5>12.5.2. Настройка</h5>

<p>Пример настройки <strong>mutt</strong> для использования GnuPG может быть
найден в файле <code>/usr/share/doc/mutt/samples/gpg.rc</code>. В общем случае достаточно
включить его содержимое в файл <code>.mutrc</code>. В консоли вы можете сделать это
следующей командой:</p>

<div class="shell-wrap">
  <p class="shell-top-bar">user@darkstar:~</p>
  <ul class="shell-body">
<li>$ cat /usr/share/doc/mutt/samples/gpg.rc &gt;&gt; ~/.muttrc</li>
</ul>
</div>
      
<p>Есть несколько полезных параметров, которые вы можете установить. Например, если
вы хотите всегда подписывать сообщения, добавьте в файл конфигурации <strong>mutt</strong>
следующую строку:</p>

<pre class="brush: bash">
set crypt_autosign = yes
</pre>
      
Другая полезная опция &#8211; <var>crypt_replyencrypt</var>, которая управляет
автоматическим шифрованием ответов на зашифрованные сообщения. Для включения
этой функции, добавьте в файл конфигурации следующую строку:</p>

<pre class="brush: bash">
set crypt_replyencrypt = yes
</pre>
      
<h5>12.5.3. Использование</h5>

<p>Если вы включили некоторые автоматические опции, подобные
<var>crypt_autosign</var>, использование GnuPG в mutt будет также большей
частью автоматическое. Если этого не произошло, вы можете нажать клавишу
<kbd>p</kbd> на последней стадии отправки письма.  Внизу экрана будут
отображены различные опции PnuPG/PGP, к которым можно получить доступ, нажав
клавишу, указанную в скобках рядом с параметрами. Например, <kbd>s</kbd>
подписывает письма, а <kbd>e</kbd> шифрует сообщение. Вы всегда можете очистить
любой изменённый вами параметр GnuPG, нажав <kbd>p</kbd> и <kbd>c</kbd>.</p>

<br />
<ul class="pager">
  <li class="previous"><a href="11. LaTeX.html">&larr; 11. LaTeX</a></li>
  <li class="next"><a href="13. Sendmail.html">13. Sendmail &rarr;</a></li>
</ul>

        </div>

        <div class="col-lg-1">
        </div>

      </div>

      <div class="footer">
        <p align="center"></p>
      </div>

    </div>

    <script src="../../../../../../js/jquery-2.1.0.min.js"></script>
    <script src="../../../../../../js/bootstrap.min.js"></script>

  </body>
</html>

